#%Module 1.0 -*- tcl -*-
#
#  Module for use with 'environment-modules' package:
# 
source [file dirname $::ModulesCurrentModulefile]/../../common/common_setup2.tcl
GeneralAppSetup ${version} OPENFOAM_ROOT

# Additional conflicts
conflict gcc
conflict mpi-openmpi
conflict openmpi
conflict mpich
conflict cmake
conflict paraview

setenv	FOAM_APPBIN	$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/bin
setenv	FOAM_APP	$app_dir/OpenFOAM-$version/applications
setenv  CMAKE_HOME 	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/cmake-2.8.12
setenv	FOAM_EXT_LIBBIN	$app_dir/ThirdParty-$version/platforms/linux64Gcc45DPOpt/lib
setenv	FOAM_INST_DIR	$app_dir
setenv	FOAM_JOB_DIR	$app_dir/jobControl
setenv	FOAM_LIBBIN	$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib
setenv	FOAM_MPI	openmpi-1.6.3
setenv	FOAM_RUN	$env(HOME)/OpenFOAM-$version/run
setenv	FOAM_SETTINGS	"WM_NCOMPPROCS=8 foamCompiler=ThirdParty WM_COMPILER=Gcc45 WM_MPLIB=OPENMPI"
#setenv	FOAM_SIGFPE
setenv	FOAM_SITE_APPBIN $app_dir/site/$version/platforms/linux64Gcc45DPOpt/bin
setenv	FOAM_SITE_LIBBIN $app_dir/site/$version/platforms/linux64Gcc45DPOpt/lib
setenv	FOAM_SOLVERS	$app_dir/OpenFOAM-$version/applications/solvers
setenv	FOAM_SRC	$app_dir/OpenFOAM-$version/src
setenv	FOAM_TUTORIALS	$app_dir/OpenFOAM-$version/tutorials
setenv	FOAM_USER_APPBIN $env(HOME)/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/bin
setenv	FOAM_USER_LIBBIN $env(HOME)/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib
setenv	FOAM_UTILITIES	$app_dir/OpenFOAM-$version/applications/utilities
setenv	GMP_ARCH_PATH		$app_dir/ThirdParty-$version/platforms/linux64/gmp-5.0.1
setenv	LD_LIBRARY_PATH	$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib/openmpi-1.6.3:$app_dir/ThirdParty-$version/platforms/linux64Gcc45DPOpt/lib/openmpi-1.6.3:$app_dir/ThirdParty-$version/platforms/linux64Gcc45/openmpi-1.6.3/lib:$app_dir/ThirdParty-$version/platforms/linux64Gcc45/openmpi-1.6.3/lib64:$app_dir/ThirdParty-$version/platforms/linux64/mpc-1.0.1/lib:$app_dir/ThirdParty-$version/platforms/linux64/mpfr-2.4.2/lib:$app_dir/ThirdParty-$version/platforms/linux64/gmp-5.0.1/lib:$app_dir/ThirdParty-$version/platforms/linux64/gcc-4.5.2/lib64:$env(HOME)/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib:$app_dir/site/$version/platforms/linux64Gcc45DPOpt/lib:$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib:$app_dir/ThirdParty-$version/platforms/linux64Gcc45DPOpt/lib:$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib/dummy
setenv	MPFR_ARCH_PATH	$app_dir/ThirdParty-$version/platforms/linux64/mpfr-2.4.2
setenv	MPI_ARCH_PATH	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/openmpi-1.6.3
setenv	MPI_BUFFER_SIZE	20000000
setenv	OPAL_PREFIX	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/openmpi-1.6.3
setenv	ParaView_DIR	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/paraview-3.12.0
setenv	ParaView_INCLUDE_DIR	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/paraview-3.12.0/include/paraview-3.12
setenv	ParaView_MAJOR	4.1
setenv	ParaView_VERSION 4.1.0
setenv	PV_PLUGIN_PATH	$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/lib/paraview-3.12
setenv	WM_ARCH		linux64
setenv	WM_ARCH_OPTION	64
setenv	WM_CC		gcc
setenv	WM_CFLAGS	-m64 -fPIC
setenv	WM_COMPILE_OPTION Opt
setenv	WM_COMPILER	Gcc45
setenv	WM_COMPILER_LIB_ARCH	64
setenv	WM_CXXFLAGS	-m64 -fPIC
setenv	WM_CXX		g++
setenv	WM_DIR		$app_dir/OpenFOAM-$version/wmake
setenv	WM_LDFLAGS	-m64
setenv	WM_LINK_LANGUAGE c++
setenv	WM_MPLIB	OPENMPI
setenv	WM_NCOMPPROCS	8
setenv	WM_OPTIONS	linux64Gcc45DPOpt
setenv	WM_OSTYPE	POSIX
setenv	WM_PRECISION_OPTION	DP
setenv	WM_PROJECT_DIR	$app_dir/OpenFOAM-$version
setenv	WM_PROJECT_INST_DIR	$app_dir
setenv	WM_PROJECT	OpenFOAM
setenv	WM_PROJECT_USER_DIR	$env(HOME)/OpenFOAM-$version
setenv	WM_PROJECT_VERSION	$version 	 	
setenv	WM_THIRD_PARTY_DIR	$app_dir/ThirdParty-$version

prepend-path	MANPATH	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/openmpi-1.6.3/share/man:$app_dir/ThirdParty-$version/platforms/linux64/gcc-4.5.2/man
prepend-path	PATH	$app_dir/ThirdParty-$version/platforms/linux64Gcc45/gperftools-svn/bin:$app_dir/ThirdParty-$version/platforms/linux64Gcc45/paraview-3.12.0/bin:$app_dir/ThirdParty-$version/platforms/linux64Gcc45/cmake-2.8.12/bin:$app_dir/ThirdParty-$version/platforms/linux64Gcc45/openmpi-1.6.3/bin:$app_dir/ThirdParty-$version/platforms/linux64/gcc-4.5.2/bin:$env(HOME)/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/bin:$app_dir/site/$version/platforms/linux64Gcc45DPOpt/bin:$app_dir/OpenFOAM-$version/platforms/linux64Gcc45DPOpt/bin:$app_dir/OpenFOAM-$version/bin:$app_dir/OpenFOAM-$version/wmake

