#%Module 1.0 -*- tcl -*-
#
#  Module for use with 'environment-modules' package:
# 
set name [lrange [split [ module-info name ] / ] 0 0 ]
set dir_name COMSOL
set version [ file tail [ module-info name ] ]
set module_extra_dir "[file dirname $ModulesCurrentModulefile]/../../applications-extra"

#if { [string first ".el5" [uname release]] != -1 } {
#    puts stderr "COMSOL only works on Fedora."
#    exit
#}

#prereq matlab-faculty

if { [info exists env(COMSOL_ROOT)] } {
    set app_dir $env(COMSOL_ROOT)
} else {
    if { [info exists env(KAUST_APPS_ROOT)] } {
	set app_dir $env(KAUST_APPS_ROOT)/$dir_name/v$version.app
    } else {
	set app_dir /opt/share/$dir_name/v$version.app
    }
}

source $env(KAUST_MODULES_ROOT)/common/common_setup.tcl
GeneralAppSetup

prepend-path PATH $app_dir/bin
#prepend-path MLROOT $env(KAUST_MATLAB_ROOT)


